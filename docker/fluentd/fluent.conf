<source>
  @type forward
  port 24224
  bind 0.0.0.0
</source>

<filter ktb-cruming-server>
  @type parser
  format json
  key_name log
  reserve_data true
  emit_invalid_record_to_error false
</filter>

<filter ktb-cruming-server>
  @type grep
  <exclude>
    key log
    pattern /^Hibernate:/
  </exclude>
</filter>

<filter ktb-cruming-ai>
  @type parser
  format json
  key_name log
  reserve_data true
  emit_invalid_record_to_error false
</filter>

<match ktb-cruming-server>
  @type elasticsearch
  host 10.0.11.18
  port 9200
  index_name backend-logs
  logstash_format false
  scheme http
  ssl_verify false
  reload_connections false
  reconnect_on_error true
  reload_on_failure true
  request_timeout 15s
  compatibility_mode v7
</match>

<match ktb-cruming-ai>
  @type elasticsearch
  host 10.0.11.18
  port 9200
  index_name ai-logs
  logstash_format false
  scheme http
  ssl_verify false
  reload_connections false
  reconnect_on_error true
  reload_on_failure true
  request_timeout 15s
</match>

